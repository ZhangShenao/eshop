# Week1

### 一. 数据库物理外键移除原因

1. 性能影响：**物理外键其实是强调了数据的完整性和强一致性**，但是这会在一定程度上影响数据库性能。
2. 热更新：物理外键可能导致服务器无法进行热更新。
3. 降低耦合度：删除物理外键，是指删除了表之间的物理上的依赖关系，但是逻辑上外键依然存在，可以适当降低表之间的耦合度。
4. 数据库分库分表：物理外键关联耦合度较高，可能导致难以进行分库分表。

### 二. Spring事务传播行为

1. REQUIRED：使用当前事务。如果当前存在事务，则加入当前事务成为一个整体；如果当前没有事务，则创建一个新的事务。**多用于增删改的情况(最常用)。**
2. SUPPORTS：如果当前有事务，则使用当前事务，否则不使用事务。**多用于查询。**
3. MANDATORY：强制当前必须存在事务。如果当前没有事务，则抛出异常。
4. REQUIRES_NEW：创建新的事务。如果当前存在事务，则挂起当前事务，并创建一个新的事务。如果当前没有事务，则作用同REQUIRED。
5. NOT_SUPPORTED：以非事务方式执行。如果当前存在事务，则挂起当前事务。
6. NEVER：以非事务方式执行。如果当前存在事务，则抛出异常。
7. NESTED：事务嵌套。如果当前存在一个事务，则以嵌套事务方式执行，否则作用同REQUIRED。嵌套事务：如果父事务提交或回滚，会携带子事务同时提交或回滚。如果子事务回滚，则父事务可以选择是否回滚。

