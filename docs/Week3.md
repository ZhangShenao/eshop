# Week3

### 一. 订单状态流转

![](订单状态.png)

### 二. 超卖问题(商品库存扣减到负数)的解决方案

1. JVM锁(syncronized或Lock)
   1. 问题
      1. 串行执行，性能低
      2. 分布式/集群环境下，无法保证线程安全
2. 数据库锁
   1. 问题
      1. 造成数据库额外的压力
3. 分布式锁
   1. Zookeeper分布式锁
   2. Redis分布式锁
4. 乐观锁
   1. 基于数据库状态